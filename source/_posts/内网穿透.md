---
title: 内网穿透
date: 2017-11-19 15:12:22
tags:
 - ngrok
 - 内网穿透
categories:
  - other
  - network
---

### ngrok

提供内网穿透服务，可以在自己主机部署服务供外网访问

同类产品： [花生壳](https://hsk.oray.com/download/) ，[nat123](http://www.nat123.com/Pages_2_32.jsp)

官网 https://ngrok.com/

github https://github.com/inconshreveable/ngrok

### 安装

官网注册[获取authtoken](https://dashboard.ngrok.com/get-started)

生成配置

```
./ngrok authtoken   ********
`
```

 <!--more--> 

> Authtoken saved to configuration file:***.ngrok2/ngrok.yml
>
> 默认路径 https://ngrok.com/docs#default-config-location
>
> 运行
>
> ```
> ./ngrok http 8010
> ```
>
> 
>
> 访问 http://localhost:4040/

### 自定义

隧道定义参数详解 https://ngrok.com/docs#tunnel-definitions

每个隧道都必须定义

- proto 需要 所有 隧道协议名称，中的一个http，tcp，tls
- addr 需要 所有 转发流量到这个本地端口号或网络地址

示例配置 https://ngrok.com/docs#config-examples

**ngrok.cfg**

```
authtoken: **************
tunnels:
  httpbin:
    proto: http
    addr: 8090
    #subdomain: dev.com #子域名请求 收费
```



启动

```
#默认配置
./ngrok start httpbin
#指定额外配置文件
./ngrok start  -config ./ngrok.cfg   httpbin
```